[gd_scene load_steps=7 format=4 uid="uid://cqga25khhcm73"]

[ext_resource type="TileSet" uid="uid://cn1ixgdoirx55" path="res://Resources/world_textures.tres" id="1_0rrrd"]
[ext_resource type="PackedScene" uid="uid://bfd3j5n1x1owq" path="res://Scenes/Player.tscn" id="1_ba4gk"]
[ext_resource type="PackedScene" uid="uid://d10cfrp2paw0k" path="res://Scenes/Note.tscn" id="3_2bl5v"]
[ext_resource type="Script" path="res://Scripts/Buttons/quit_game.gd" id="4_2msx4"]
[ext_resource type="PackedScene" uid="uid://bbbpepggrsnxv" path="res://Scenes/Lift.tscn" id="4_41n70"]
[ext_resource type="PackedScene" uid="uid://dny6vk3jcwhot" path="res://Scenes/Enemy.tscn" id="6_sqxuy"]

[node name="Node2D" type="Node2D"]

[node name="TileMapLayer" type="TileMapLayer" parent="."]
scale = Vector2(4, 4)
tile_map_data = PackedByteArray("AAABAAEAAAAAAAAAAAACAAEAAAABAAAAAAADAAEAAAABAAAAAAAEAAEAAAABAAAAAAAFAAEAAAACAAAAAAAGAAEAAAACAAAAAAAHAAEAAAACAAAAAAAIAAEAAAADAAAAAAAJAAEAAAADAAAAAAAKAAEAAAABAAAAAAALAAEAAAADAAAAAAAMAAEAAAADAAAAAAANAAEAAAADAAAAAAAOAAEAAAACAAAAAAAPAAEAAAABAAAAAAAQAAEAAAABAAAAAAARAAEAAAACAAAAAAASAAEAAAACAAAAAAATAAEAAAADAAAAAAAUAAEAAAAEAAAAAAAUAAIAAAAEAAEAAAAUAAMAAAAEAAEAAAAUAAQAAAAEAAEAAAAUAAUAAAAEAAEAAAAUAAYAAAAEAAEAAAAUAAcAAAAEAAEAAAAUAAgAAAAEAAEAAAAUAAkAAAAEAAEAAAAUAAoAAAAEAAEAAAAUAAsAAAAEAAEAAAAUAAwAAAAEAAEAAAAUAA0AAAAEAAEAAAAUAA4AAAAEAAEAAAAUAA8AAAAEAAEAAAAUABAAAAAEAAEAAAAUABEAAAAEAAEAAAAUABIAAAAEAAQAAAATABIAAAADAAQAAAASABIAAAADAAQAAAARABIAAAADAAQAAAAQABIAAAADAAQAAAAPABIAAAADAAQAAAAOABIAAAADAAQAAAANABIAAAADAAQAAAAMABIAAAACAAIAAAALABIAAAACAAIAAAAKABIAAAACAAIAAAAJABIAAAACAAIAAAAIABIAAAAAAAQAAAAHABIAAAADAAQAAAAGABIAAAADAAQAAAAFABIAAAADAAQAAAAEABIAAAADAAQAAAADABIAAAADAAQAAAACABIAAAADAAQAAAABABIAAAAAAAQAAAABABEAAAAAAAMAAAABAA8AAAAAAAMAAAABAA4AAAAAAAMAAAABAA0AAAAAAAMAAAABAAwAAAAAAAMAAAABAAsAAAAAAAMAAAABAAoAAAAAAAMAAAABAAkAAAAAAAMAAAABAAgAAAAAAAMAAAABAAcAAAAAAAMAAAABAAYAAAAAAAMAAAABAAUAAAAAAAMAAAABAAQAAAAAAAMAAAABAAMAAAAAAAMAAAABAAIAAAAAAAMAAAACAAMAAAACAAIAAAACAAQAAAACAAIAAAACAAUAAAACAAIAAAACAAYAAAACAAIAAAACAAcAAAACAAIAAAACAAgAAAACAAIAAAACAAkAAAACAAIAAAACAAoAAAACAAIAAAACAAsAAAACAAIAAAACAAwAAAACAAIAAAACAA0AAAACAAIAAAACAA4AAAACAAIAAAACAA8AAAACAAIAAAACABAAAAACAAIAAAACABEAAAACAAIAAAADAAMAAAACAAIAAAADAAQAAAACAAIAAAADAAUAAAACAAIAAAADAAYAAAACAAIAAAADAAcAAAACAAIAAAADAAgAAAACAAIAAAADAAkAAAACAAIAAAADAAoAAAACAAIAAAADAAsAAAACAAIAAAADAAwAAAACAAIAAAADAA0AAAACAAIAAAADAA4AAAACAAIAAAADAA8AAAACAAIAAAADABAAAAACAAIAAAADABEAAAACAAIAAAAEAAMAAAACAAIAAAAEAAQAAAACAAIAAAAEAAUAAAACAAIAAAAEAAYAAAACAAIAAAAEAAcAAAACAAIAAAAEAAgAAAACAAIAAAAEAAkAAAACAAIAAAAEAAoAAAACAAIAAAAEAAsAAAACAAIAAAAEAAwAAAACAAIAAAAEAA0AAAACAAIAAAAEAA4AAAACAAIAAAAEAA8AAAACAAIAAAAEABAAAAACAAIAAAAEABEAAAACAAIAAAAFAAMAAAACAAIAAAAFAAQAAAACAAIAAAAFAAUAAAACAAIAAAAFAAYAAAACAAIAAAAFAAcAAAACAAIAAAAFAAgAAAACAAIAAAAFAAkAAAACAAIAAAAFAAoAAAACAAIAAAAFAAsAAAACAAIAAAAFAAwAAAACAAIAAAAFAA0AAAACAAIAAAAFAA4AAAACAAIAAAAFAA8AAAACAAIAAAAFABAAAAACAAIAAAAFABEAAAACAAIAAAAGAAMAAAACAAIAAAAGAAQAAAACAAIAAAAGAAUAAAACAAIAAAAGAAYAAAACAAIAAAAGAAcAAAACAAIAAAAGAAgAAAACAAIAAAAGAAkAAAACAAIAAAAGAAoAAAACAAIAAAAGAAsAAAACAAIAAAAGAAwAAAACAAIAAAAGAA0AAAACAAIAAAAGAA4AAAACAAIAAAAGAA8AAAACAAIAAAAGABAAAAACAAIAAAAGABEAAAACAAIAAAAHAAMAAAACAAIAAAAHAAQAAAACAAIAAAAHAAUAAAACAAIAAAAHAAYAAAACAAIAAAAHAAcAAAACAAIAAAAHAAgAAAACAAIAAAAHAAkAAAACAAIAAAAHAAoAAAAAAAIAAAAHAAsAAAAAAAIAAAAHAAwAAAACAAIAAAAHAA4AAAACAAIAAAAHAA8AAAACAAIAAAAHABAAAAACAAIAAAAHABEAAAACAAIAAAAIAAMAAAACAAIAAAAIAAQAAAACAAIAAAAIAAUAAAACAAIAAAAIAAYAAAACAAIAAAAIAAcAAAACAAIAAAAIAAgAAAACAAIAAAAIAAkAAAACAAIAAAAIAAoAAAAAAAIAAAAIAAsAAAAAAAIAAAAIAAwAAAACAAIAAAAIAA4AAAACAAIAAAAIAA8AAAACAAIAAAAIABAAAAACAAIAAAAIABEAAAACAAIAAAAJAAMAAAACAAIAAAAJAAQAAAACAAIAAAAJAAUAAAACAAIAAAAJAAYAAAACAAIAAAAJAAcAAAACAAIAAAAJAAgAAAACAAIAAAAJAAkAAAACAAIAAAAJAAoAAAACAAIAAAAJABAAAAACAAIAAAAJABEAAAACAAIAAAAKAAMAAAACAAIAAAAKAAQAAAACAAIAAAAKAAUAAAACAAIAAAAKAAYAAAACAAIAAAAKAAcAAAACAAIAAAAKAAgAAAACAAIAAAAKAAkAAAACAAIAAAAKAAoAAAACAAIAAAAKAAsAAAACAAIAAAAKAA4AAAACAAIAAAAKAA8AAAACAAIAAAAKABAAAAACAAIAAAAKABEAAAACAAIAAAALAAMAAAACAAIAAAALAAQAAAACAAIAAAALAAUAAAACAAIAAAALAAYAAAACAAIAAAALAAcAAAACAAIAAAALAAgAAAACAAIAAAALAAkAAAACAAIAAAALAAoAAAACAAIAAAALAAsAAAACAAIAAAALAAwAAAACAAIAAAALAA4AAAACAAIAAAALAA8AAAACAAIAAAALABAAAAACAAIAAAALABEAAAACAAIAAAAMAAMAAAACAAIAAAAMAAQAAAACAAIAAAAMAAUAAAACAAIAAAAMAAYAAAACAAIAAAAMAAcAAAACAAIAAAAMAAgAAAACAAIAAAAMAAkAAAACAAIAAAAMAAoAAAACAAIAAAAMAAsAAAACAAIAAAAMAAwAAAACAAIAAAAMAA0AAAACAAIAAAAMAA4AAAACAAIAAAAMAA8AAAACAAIAAAAMABAAAAACAAIAAAAMABEAAAACAAIAAAANAAMAAAACAAIAAAANAAQAAAACAAIAAAANAAUAAAACAAIAAAANAAYAAAACAAIAAAANAAcAAAACAAIAAAANAAgAAAACAAIAAAANAAkAAAACAAIAAAANAAoAAAACAAIAAAANAAsAAAACAAIAAAANAAwAAAACAAIAAAANAA0AAAACAAIAAAANAA4AAAACAAIAAAANAA8AAAACAAIAAAANABAAAAACAAIAAAANABEAAAACAAIAAAAOAAMAAAACAAIAAAAOAAQAAAACAAIAAAAOAAUAAAACAAIAAAAOAAYAAAACAAIAAAAOAAcAAAACAAIAAAAOAAgAAAACAAIAAAAOAAkAAAACAAIAAAAOAAoAAAACAAIAAAAOAAsAAAACAAIAAAAOAAwAAAACAAIAAAAOAA0AAAACAAIAAAAOAA4AAAACAAIAAAAOAA8AAAACAAIAAAAOABAAAAACAAIAAAAOABEAAAACAAIAAAAPAAMAAAACAAIAAAAPAAQAAAACAAIAAAAPAAUAAAACAAIAAAAPAAYAAAACAAIAAAAPAAcAAAACAAIAAAAPAAgAAAACAAIAAAAPAAkAAAACAAIAAAAPAAoAAAACAAIAAAAPAAsAAAACAAIAAAAPAAwAAAACAAIAAAAPAA0AAAACAAIAAAAPAA4AAAACAAIAAAAPAA8AAAACAAIAAAAPABAAAAACAAIAAAAPABEAAAACAAIAAAAQAAMAAAACAAIAAAAQAAQAAAACAAIAAAAQAAUAAAACAAIAAAAQAAYAAAACAAIAAAAQAAcAAAACAAIAAAAQAAgAAAACAAIAAAAQAAkAAAACAAIAAAAQAAoAAAACAAIAAAAQAAsAAAACAAIAAAAQAAwAAAACAAIAAAAQAA0AAAACAAIAAAAQAA4AAAACAAIAAAAQAA8AAAACAAIAAAAQABAAAAACAAIAAAAQABEAAAACAAIAAAARAAMAAAACAAIAAAARAAQAAAACAAIAAAARAAUAAAACAAIAAAARAAYAAAACAAIAAAARAAcAAAACAAIAAAARAAgAAAACAAIAAAARAAkAAAACAAIAAAARAAoAAAACAAIAAAARAAsAAAACAAIAAAARAAwAAAACAAIAAAARAA0AAAACAAIAAAARAA4AAAACAAIAAAARAA8AAAACAAIAAAARABAAAAACAAIAAAARABEAAAACAAIAAAASAAMAAAACAAIAAAASAAQAAAACAAIAAAASAAUAAAACAAIAAAASAAYAAAACAAIAAAASAAcAAAACAAIAAAASAAgAAAACAAIAAAASAAkAAAACAAIAAAASAAoAAAACAAIAAAASAAsAAAACAAIAAAASAAwAAAACAAIAAAASAA0AAAACAAIAAAASAA4AAAACAAIAAAASAA8AAAACAAIAAAASABAAAAACAAIAAAASABEAAAACAAIAAAATAAMAAAACAAIAAAATAAQAAAACAAIAAAATAAUAAAACAAIAAAATAAYAAAACAAIAAAATAAcAAAACAAIAAAATAAgAAAACAAIAAAATAAkAAAACAAIAAAATAAoAAAACAAIAAAATAAsAAAACAAIAAAATAAwAAAACAAIAAAATAA0AAAACAAIAAAATAA4AAAACAAIAAAATAA8AAAACAAIAAAATABAAAAACAAIAAAATABEAAAACAAIAAAACAAIAAAACAAIAAAADAAIAAAACAAIAAAAEAAIAAAACAAIAAAAFAAIAAAACAAIAAAAGAAIAAAACAAIAAAAHAAIAAAACAAIAAAAIAAIAAAACAAIAAAAJAAIAAAACAAIAAAAKAAIAAAACAAIAAAALAAIAAAACAAIAAAAMAAIAAAACAAIAAAANAAIAAAACAAIAAAAOAAIAAAACAAIAAAAPAAIAAAACAAIAAAAQAAIAAAACAAIAAAARAAIAAAACAAIAAAASAAIAAAACAAIAAAATAAIAAAACAAIAAAAJAA0AAAACAAIAAAAJAAwAAAACAAIAAAAJAAsAAAACAAIAAAALAA0AAAACAAIAAAAIAA0AAAACAAIAAAAHAA0AAAACAAIAAAANABMAAAAEAAIAAAANABQAAAAEAAMAAAANABUAAAAEAAMAAAANABYAAAAEAAMAAAANABcAAAAEAAMAAAANABgAAAAEAAMAAAANABkAAAAEAAMAAAANABoAAAAEAAMAAAANABsAAAAEAAMAAAANABwAAAAEAAMAAAANAB0AAAAEAAMAAAAIABMAAAAAAAIAAAAIABQAAAAAAAIAAAAIABUAAAAAAAIAAAAIABYAAAAAAAIAAAAIABcAAAAAAAIAAAAIABgAAAAAAAIAAAAIABkAAAAAAAIAAAAIABoAAAAAAAIAAAAIABsAAAAAAAIAAAAIABwAAAAAAAIAAAAIAB0AAAAAAAIAAAAJABMAAAACAAIAAAAJABQAAAACAAIAAAAJABUAAAACAAIAAAAJABYAAAACAAIAAAAJABcAAAACAAIAAAAJABgAAAACAAIAAAAJABkAAAACAAIAAAAJABoAAAACAAIAAAAJABsAAAACAAIAAAAJABwAAAACAAIAAAAJAB0AAAACAAIAAAAKABMAAAACAAIAAAAKABQAAAACAAIAAAAKABUAAAACAAIAAAAKABYAAAACAAIAAAAKABcAAAACAAIAAAAKABgAAAACAAIAAAAKABkAAAACAAIAAAAKABoAAAACAAIAAAAKABsAAAACAAIAAAAKABwAAAACAAIAAAAKAB0AAAACAAIAAAALABQAAAACAAIAAAALABUAAAACAAIAAAALABYAAAACAAIAAAALABcAAAACAAIAAAALABgAAAACAAIAAAALABkAAAACAAIAAAALABoAAAACAAIAAAALABsAAAACAAIAAAALABwAAAACAAIAAAALAB0AAAACAAIAAAAMABMAAAACAAIAAAAMABQAAAACAAIAAAAMABUAAAACAAIAAAAMABYAAAACAAIAAAAMABcAAAACAAIAAAAMABgAAAACAAIAAAAMABkAAAACAAIAAAAMABoAAAACAAIAAAAMABsAAAACAAIAAAAMABwAAAACAAIAAAAMAB0AAAACAAIAAAAJAB4AAAACAAQAAAAKAB4AAAACAAQAAAALAB4AAAACAAQAAAAIAB4AAAAAAAQAAAANAB4AAAAEAAQAAAALABMAAAACAAIAAAAMAB4AAAACAAQAAAABABAAAAAAAAMAAAAKAAwAAAACAAIAAAAKAA0AAAACAAIAAAAJAA4AAAACAAIAAAAJAA8AAAACAAIAAAA=")
tile_set = ExtResource("1_0rrrd")
use_kinematic_bodies = true

[node name="Player" parent="." instance=ExtResource("1_ba4gk")]
position = Vector2(565, 247)

[node name="Note" parent="." instance=ExtResource("3_2bl5v")]
position = Vector2(791, 790)
metadata/text = "[center]I died today"

[node name="InteractionPopup" type="CanvasLayer" parent="."]
layer = 5

[node name="InteractText" type="RichTextLabel" parent="InteractionPopup"]
visible = false
anchors_preset = -1
anchor_top = 0.848611
anchor_right = 1.0
anchor_bottom = 0.934722
grow_horizontal = 2
grow_vertical = 0
theme_override_font_sizes/normal_font_size = 32
bbcode_enabled = true
text = "[center]Press E to interact"
metadata/_edit_use_anchors_ = true

[node name="TextPopUp" type="RichTextLabel" parent="InteractionPopup"]
visible = false
anchors_preset = -1
anchor_top = 0.381944
anchor_right = 1.0
anchor_bottom = 0.723611
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/normal_font_size = 32
bbcode_enabled = true
text = "[center]null"
scroll_active = false
metadata/_edit_use_anchors_ = true

[node name="QuitGame" type="Button" parent="InteractionPopup"]
visible = false
offset_right = 168.0
offset_bottom = 63.0
text = "Quit Game"
script = ExtResource("4_2msx4")

[node name="Timer" type="Timer" parent="InteractionPopup/QuitGame"]

[node name="Lift" parent="." instance=ExtResource("4_41n70")]
position = Vector2(770, 159)

[node name="Enemy" parent="." instance=ExtResource("6_sqxuy")]
position = Vector2(200, 1072)

[node name="Enemy2" parent="." instance=ExtResource("6_sqxuy")]
position = Vector2(1186, 162)
rotation = 1.68018

[connection signal="returnPieces" from="Player" to="Lift" method="_on_player_return_pieces"]
[connection signal="button_down" from="InteractionPopup/QuitGame" to="InteractionPopup/QuitGame" method="_on_button_down"]
[connection signal="timeout" from="InteractionPopup/QuitGame/Timer" to="InteractionPopup/QuitGame" method="_on_timer_timeout"]
[connection signal="place" from="Lift" to="Player" method="_on_lift_place"]
